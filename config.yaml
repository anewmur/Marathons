# Конфигурация модели MarathonModel

preprocessing:
  age_center: 35      # Центр для стандартизации возраста
  age_scale: 10       # Масштаб для стандартизации: x = (age - center) / scale
  debug_timing: true
  suspicious_report: true
  debug_timing_top: 15
  write_person_clusters_json: true
  person_clusters_json_path: "artifacts/person_clusters.json"


references:
  top_fraction: 0.05       # Доля лучших финишёров для эталона (топ-5%)
  trim_fraction: 0.0      # Симметричная обрезка внутри топа
  min_group_size: 3       # Минимальный размер группы (race_id, gender)
  min_used_runners: 3      # Минимум наблюдений после top/trim
  bootstrap_samples: 500   # Число bootstrap-выборок для оценки дисперсии
  random_seed: 123         # Seed для воспроизводимости

age_references:
  min_group_size: 10      # Минимальный размер возрастной группы
  bootstrap_samples: 500  # Число bootstrap-выборок для оценки дисперсии
  random_seed: 456        # Seed для воспроизводимости

validation:
  year: 2025          # Год для валидации (исключается из обучения)

raw_filter:
  only_finishers: true          # True -> оставить только OK
  allowed_statuses: null         # например ["OK"] или ["OK","DNF"] (если нужно)
  exclude_statuses: ["DNS","DNF","DSQ","DQ"]  # работает если allowed_statuses is null
  gender: null                  # "M" / "F" / None
  distance_km: 42              # 42.195 / 21.0975 / 42 / 21 / null
  distance_tol_km: 0.5           # допуск на сравнение
  race_ids: null                 # ["Белые ночи", ...] или null
  years: null                   # [2016,2017,...] или null

