"""
Служебные словари для нормализации городов и регионов.

CITY_TYPO_MAP:
    Глобальные правки опечаток в названиях городов.
    Применяются на этапе загрузки (DataLoader).

REGION_NORMALIZATION_MAP:
    Глобальная нормализация написаний областей и регионов
    к единому каноническому виду. Применяется на этапе загрузки.

CLUSTER_CITY_CANONICAL_MAP:
    Сопоставление городов и областей внутри одного кластера
    (одного человека) для заполнения city.
    Применяется только в Preprocessor._fill_city_in_clusters.
"""

from __future__ import annotations

# Все глобальные нормализации строки city при загрузке
# Ключи — уже нижний регистр после .lower() и чистки "г./г"
CLUSTER_CITY_CANONICAL_MAP: dict[str, str] = {
    # Екатеринбург
    "екатеринбур": "Екатеринбург",

    # Санкт-Петербург
    "санкт-петербур": "Санкт-Петербург",
    "санкт-петербур г": "Санкт-Петербург",
    "санкт-петербур г.": "Санкт-Петербург",

    # Пермь
    "перьмь": "Пермь",

    # Ленинградская область
    "ленинградская обл": "Ленинградская Обл.",
    "ленинградская обл.": "Ленинградская Обл.",
    "ленинградская область": "Ленинградская Обл.",

    # Московская область
    "московская обл": "Московская Обл.",
    "московская обл.": "Московская Обл.",
    "московская область": "Московская Обл.",

    # Новгородская область
    "новгородская обл": "Новгородская Обл.",
    "новгородская обл.": "Новгородская Обл.",
    "новгородская область": "Новгородская Обл.",

    # Смоленская область
    "смоленская обл": "Смоленская Обл.",
    "смоленская обл.": "Смоленская Обл.",
    "смоленская область": "Смоленская Обл.",

    # Тверская область
    "тверская обл": "Тверская Обл.",
    "тверская обл.": "Тверская Обл.",
    "тверская область": "Тверская Обл.",

    # Свердловская область
    "свердловская обл": "Свердловская Обл.",
    "свердловская обл.": "Свердловская Обл.",
    "свердловская область": "Свердловская Обл.",

    # Омская область
    "омская обл": "Омская Обл.",
    "омская обл.": "Омская Обл.",
    "омская область": "Омская Обл.",

    # Ярославская область
    "ярославская обл": "Ярославская Обл.",
    "ярославская обл.": "Ярославская Обл.",
    "ярославская область": "Ярославская Обл.",

    # Саратовская область
    "саратовская обл": "Саратовская Обл.",
    "саратовская обл.": "Саратовская Обл.",
    "саратовская область": "Саратовская Обл.",
}

# Сопоставления внутри кластера "одного человека"
# Работают уже по НОРМАЛИЗОВАННЫМ строкам (после DataLoader)
REGION_NORMALIZATION_MAP: dict[str, str] = {
    # Тула и область считаются одним местом, пишем область
    "Тула": "Тульская Обл.",
    "Тульская Обл.": "Тульская Обл.",

    # Екатеринбург и Свердловская область
    "Екатеринбург": "Свердловская Обл.",
    "Свердловская Обл.": "Свердловская Обл.",

    # Тосно и Ленинградская область
    "Тосно": "Ленинградская Обл.",
    "Ленинградская Обл.": "Ленинградская Обл.",

    # Самара и область
    "Самара": "Самарская Обл.",
    "Самарская Обл.": "Самарская Обл.",

    # Чупа и Карелия — всё считаем одной географией
    "Пгт Чупа": "Респ. Карелия",
    "Чупа Пгт.": "Респ. Карелия",
    "Пгт. Чупа": "Респ. Карелия",
    "Респ Карелия": "Респ. Карелия",
    "Карелия Респ.": "Респ. Карелия",
    "Респ. Карелия": "Респ. Карелия",

    # Все варианты Казани и Татарстана внутри кластера считаем одним местом
    "Казань": "Казань",
    "Республика Татарстан": "Казань",
    "*Казань*": "Казань",
    "С Казань": "Казань",
    "Йошкар-Ола": "Казань",
}

KNOWN_RACES = {
    'дорога жизни': 'Дорога жизни',
    'пермский марафон': 'Пермский марафон',
    'пермский международный марафон': 'Пермский марафон',
    'московский марафон': 'Московский марафон',
    'казанский марафон': 'Казанский марафон',
    'белые ночи': 'Белые ночи',
    'чемпионат россии': 'Чемпионат России',
}

PERSON_TOKEN_CYR_TO_LAT: dict[str, str] = {
    "а": "a", "б": "b", "в": "v", "г": "g", "д": "d",
    "е": "e", "ё": "e", "ж": "zh", "з": "z", "и": "i", "й": "i",
    "к": "k", "л": "l", "м": "m", "н": "n", "о": "o",
    "п": "p", "р": "r", "с": "s", "т": "t", "у": "u",
    "ф": "f", "х": "kh", "ц": "ts", "ч": "ch", "ш": "sh",
    "щ": "shch", "ы": "y", "э": "e", "ю": "yu", "я": "ya",
    "ь": "", "ъ": "",
}
